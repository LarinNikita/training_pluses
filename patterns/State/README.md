Как собрать проект (пример с использованием g++)

    Компиляция: Скомпилируйте каждый .cpp файл в объектные файлы:

    g++ -c State.cpp -o State.o
    g++ -c VendingMachine.cpp -o VendingMachine.o
    g++ -c main.cpp -o main.o

Сборка (линковка): Слинкуйте объектные файлы в исполняемый файл:

g++ State.o VendingMachine.o main.o -o vending_machine

Запуск: Запустите исполняемый файл:

./vending_machine

В файле state.h ключевое слово override используется для явного указания, что методы классов-наследников (NoCoinState, HasCoinState, SoldState, SoldOutState) переопределяют виртуальные методы базового класса State.
Зачем используется override?

    Явное указание намерений: Это ключевое слово показывает, что метод предназначен для переопределения метода базового класса.
    Повышение безопасности: Если метод с override не находит соответствующего виртуального метода в базовом классе, компилятор выдаст ошибку. Это помогает избежать ошибок, когда метод имеет схожее название, но не соответствует по сигнатуре или не переопределяет метод базового класса.
    Улучшение читаемости кода: Любой, кто читает код, сразу понимает, что данный метод переопределяет метод базового класса.

Объяснение строки кода noCoinState = new NoCoinState(this);

1. Оператор new

   Что делает: Выделяет память в динамической памяти (куче) для нового объекта типа NoCoinState и возвращает указатель на созданный объект.
   Зачем используется: Для создания объекта в момент выполнения программы, а не в момент компиляции.

2. Конструктор NoCoinState(this)

   Что делает: Вызывает конструктор класса NoCoinState, передавая в него аргумент this.
   Зачем используется: Инициализирует объект состояния, связывая его с текущим экземпляром торгового автомата (VendingMachine).

3. Указатель this

   Что такое: Указатель на текущий экземпляр класса VendingMachine, внутри которого выполняется строка кода.
   Зачем используется: Передает состояние (NoCoinState) ссылку на торговый автомат, чтобы состояние могло взаимодействовать с автоматом (изменять его состояние, вызывать методы и т.д.).

Полное объяснение строки
Строка noCoinState = new NoCoinState(this); создает новый объект состояния NoCoinState, связанный с текущим экземпляром торгового автомата, и сохраняет указатель на этот объект в переменную noCoinState.

    Стек: Автоматическое управление памятью, быстрый доступ, строгий порядок выделения/освобождения.
    Куча: Ручное управление памятью, более медленный доступ, произвольный порядок выделения/освобождения.
